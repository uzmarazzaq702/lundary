;/*FB_PKG_DELIM*/

__d("WAWebDomPlayVideo",["Promise"],(function(a,b,c,d,e,f){var g;function a(a){if(a.__playPromise)return a.__playPromise;var c=new(g||(g=b("Promise")))(function(b,c){function d(c){a.removeEventListener("playing",d),a.removeEventListener("error",e),(!a.videoHeight||!a.videoWidth)&&d(c),delete a.__playPromise,b()}function e(b){a.removeEventListener("playing",d),a.removeEventListener("error",e),delete a.__playPromise,c(b)}a.addEventListener("playing",d);a.addEventListener("error",e);var f=a.play();h(f)&&(a.removeEventListener("playing",d),a.removeEventListener("error",e),f.then(function(){delete a.__playPromise,b()})["catch"](function(b){delete a.__playPromise,c(b)}))});a.__playPromise=c;return c}function h(a){return a&&typeof a.then==="function"}f["default"]=a}),66);
__d("WAWebWamEnumPlaybackOriginType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONVERSATION:1,STATUS:2,CHANNELS:3});f.PLAYBACK_ORIGIN_TYPE=a}),66);
__d("WAWebWamEnumPlaybackStateType",[],(function(a,b,c,d,e,f){a=Object.freeze({IDLE:1,READY_PLAY:2,READY_PAUSE:3,BUFFERING:4,OUTSIDE:5,ENDED:6,ERROR:7});f.PLAYBACK_STATE_TYPE=a}),66);
__d("WAWebMediaStreamPlaybackWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumPlaybackOriginType","WAWebWamEnumPlaybackStateType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MediaStreamPlayback:[1584,{bytesDownloadedStart:[4,a.TYPES.NUMBER],bytesTransferred:[5,a.TYPES.NUMBER],didPlay:[15,a.TYPES.BOOLEAN],forcedPlayCount:[12,a.TYPES.INTEGER],initialBufferingT:[7,a.TYPES.TIMER],mediaSize:[2,a.TYPES.NUMBER],mediaType:[3,d("WAWebWamEnumMediaType").MEDIA_TYPE],overallPlayT:[10,a.TYPES.TIMER],overallT:[1,a.TYPES.TIMER],playbackCount:[14,a.TYPES.INTEGER],playbackError:[17,a.TYPES.INTEGER],playbackOrigin:[16,d("WAWebWamEnumPlaybackOriginType").PLAYBACK_ORIGIN_TYPE],playbackState:[11,d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE],seekCount:[13,a.TYPES.INTEGER],totalRebufferingCount:[9,a.TYPES.INTEGER],totalRebufferingT:[8,a.TYPES.TIMER],videoDuration:[6,a.TYPES.INTEGER]},[1,1,1],"regular"]},{MediaStreamPlayback:[]});g.MediaStreamPlaybackWamEvent=b}),98);
__d("useWAWebMediaStreamPlaybackMetric",["WAWebMediaStreamPlaybackWamEvent","WAWebPipVideoStreaming","WAWebWamEnumMediaType","WAWebWamEnumPlaybackOriginType","WAWebWamEnumPlaybackStateType","react","useLazyRef","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.experimental_useEffectEvent,j=b.useEffect,k=b.useRef;function l(a){return new(d("WAWebMediaStreamPlaybackWamEvent").MediaStreamPlaybackWamEvent)({playbackOrigin:a,mediaType:d("WAWebWamEnumMediaType").MEDIA_TYPE.VIDEO,didPlay:!1,playbackState:d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE.IDLE})}function a(a,b,e,f){f===void 0&&(f=d("WAWebWamEnumPlaybackOriginType").PLAYBACK_ORIGIN_TYPE.CONVERSATION);var g=k(!0),h=c("useLazyRef")(function(){return l(f)}),m=i(function(a){var b=function(){a.commit(),g.current=!0,h.current=l(f),window.removeEventListener("unload",b)};return b});j(function(){if(a==null||!a.startsWith(d("WAWebPipVideoStreaming").VIDEO_STREAM_URL))return;var b=h.current;b=m(b);window.addEventListener("unload",b);return b},[a,h]);var n=c("useWAWebStableCallback")(function(a){b.current&&(h.current.videoDuration=Math.floor(b.current.duration)),e.onDurationChange==null||e.onDurationChange(a)}),o=c("useWAWebStableCallback")(function(a){h.current.playbackState=d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE.READY_PLAY,h.current.didPlay||(h.current.didPlay=!0),e.onPlaying==null||e.onPlaying()}),p=c("useWAWebStableCallback")(function(a){h.current.playbackState===d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE.READY_PLAY&&(h.current.playbackState=d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE.READY_PAUSE),e.onPause==null||e.onPause(a)}),q=c("useWAWebStableCallback")(function(a){h.current.playbackState=d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE.BUFFERING,g.current?h.current.startInitialBufferingT():h.current.startTotalRebufferingT(),e.onWaiting==null||e.onWaiting(a)}),r=c("useWAWebStableCallback")(function(a){h.current.playbackState=d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE.READY_PAUSE,g.current?(h.current.markInitialBufferingT(),g.current=!1):h.current.markTotalRebufferingT(),e.onCanPlay==null||e.onCanPlay(a)}),s=c("useWAWebStableCallback")(function(a){h.current.playbackState=d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE.ENDED,e.onEnded==null||e.onEnded(a)}),t=c("useWAWebStableCallback")(function(a){var c;h.current.playbackState=d("WAWebWamEnumPlaybackStateType").PLAYBACK_STATE_TYPE.ERROR;c=(c=(c=(c=b.current)==null||(c=c.error)==null?void 0:c.code)!=null?c:a.code)!=null?c:null;c!=null&&(h.current.playbackError=c);e.onError==null||e.onError(a)});return{mediaStreamPlaybackMetricRef:h,wrappedProps:{onDurationChange:n,onPlaying:o,onWaiting:q,onCanPlay:r,onEnded:s,onError:t,onPause:p}}}g.useMediaStreamPlaybackMetric=a}),98);
__d("WAWebBaseVideo.react",["Promise","WAAbortError","WALogger","WAWebDomPlayVideo","WAWebPttAudioChannels","WAWebUA","asyncToGeneratorRuntime","err","react","useWAWebMediaStreamPlaybackMetric","useWAWebOnUnmount","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=["autoPlay","children","className","ref","srcObject"],m=["videoCallbacks"],n=["onPlaying"],o,p,q;e=q||d("react");var r=p||(p=c("react")),s=e.useEffect,t=e.useImperativeHandle,u=e.useRef;function a(a){var e=a.autoPlay,f=a.children,g=a.className,p=a.ref,q=a.srcObject;a=babelHelpers.objectWithoutPropertiesLoose(a,l);var v=a.videoCallbacks,w=babelHelpers.objectWithoutPropertiesLoose(a,m),x=u(0),y=u(null),z=u(null),A=d("useWAWebMediaStreamPlaybackMetric").useMediaStreamPlaybackMetric(a.src,y,a);A=A.wrappedProps;var B=A.onPlaying,C=babelHelpers.objectWithoutPropertiesLoose(A,n),D=function(a){a=y.current;if(!a)return;if(a.paused)return;a.videoHeight>0&&a.videoWidth>0&&(B==null||B())},E=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=y.current;if(!a)return(o||(o=b("Promise"))).reject(c("err")("cannot play unmounted video"));if(!a.paused)return(o||(o=b("Promise"))).resolve();a.removeEventListener("playing",D);try{yield c("WAWebDomPlayVideo")(a),a.addEventListener("playing",D),D()}catch(b){var e;a.addEventListener("playing",D);if(b.name===d("WAAbortError").ABORT_ERROR){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["video.play() promise rejected w/ AbortError: ",", error code: ",""])),b.message,b.code);return}a=(a=(a=y.current)==null||(a=a.error)==null?void 0:a.message)!=null?a:"";e=(e=(e=y.current)==null||(e=e.error)==null?void 0:e.code)!=null?e:"";d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["video.play() promise rejected: "," The error code is ","."])),a,e);C.onError==null||C.onError(b)}});return function(){return a.apply(this,arguments)}}(),F=(A=c("useWAWebStableCallback"))(function(){E()}),G=A(function(){var a=y.current;(a==null?void 0:a.paused)!==!0&&(a==null||a.pause())}),H=A(function(){var a;return(a=(a=y.current)==null?void 0:a.volume)!=null?a:0}),I=A(function(a){y.current&&(y.current.volume=a)}),J=A(function(){var a;return(a=(a=y.current)==null?void 0:a.muted)!=null?a:!1}),K=A(function(a){y.current&&(y.current.muted=a)}),L=A(function(){var a;return(a=(a=y.current)==null?void 0:a.paused)!=null?a:!0}),M=A(function(){var a;return(a=(a=y.current)==null?void 0:a.currentTime)!=null?a:0}),N=A(function(a){y.current&&(y.current.currentTime=a)}),O=A(function(){var a;return(a=(a=y.current)==null?void 0:a.duration)!=null?a:0}),P=A(function(a){y.current&&(y.current.duration=a)}),Q=A(function(){var a=y.current;a&&(a.currentTime=0,G())}),R=A(function(){var a;return(a=(a=y.current)==null?void 0:a.buffered)!=null?a:null}),S=A(function(){return y.current});t(p,function(){return{play:F,pause:G,getPaused:L,getCurrentTime:M,setCurrentTime:N,getDuration:O,setDuration:P,getVolume:H,setVolume:I,getMuted:J,setMuted:K,getBuffered:R,underlyingVideo:S,pauseAndReset:Q}},[F,G,L,M,N,O,P,H,I,J,K,R,S,Q]);var T=function(a){a=y.current;if(!a)return;a.removeEventListener("playing",T);if(!a.videoHeight||!a.videoWidth){G();F();a=6;x.current<a&&x.current++;var b;x.current>1&&x.current<a&&(b="the height and width of the video is not zero, count (larger than 1): "+x.current);x.current>=a&&(b="the height and width of the video is not zero, count larger than "+x.current);b!=null&&d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed! ",""])),b).sendLogs("base-video-non-zero-height-and-width")}},U=function(a,b){if(e!==!0)return;a.removeEventListener("playing",T);a.addEventListener("playing",T);var c=a.srcObject;(c!=null||b&&a.paused)&&F()};p=A(function(a){var b;if(a===y.current)return;(b=y.current)==null||b.removeEventListener("playing",D);z.current==null||z.current();y.current=a;if(a==null)return;z.current=d("WAWebPttAudioChannels").MainAudioChannel.registerMedia(a);"srcObject"in a&&q?a.srcObject=q:a.src||d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["srcObject is not supported in video tag while src is not set."])));a.addEventListener("playing",D);e===!0&&U(a,d("WAWebUA").UA.isGecko||d("WAWebUA").UA.isSafari)});s(function(){var a=y.current;a!=null&&e===!0&&U(a,!0)},[e]);c("useWAWebOnUnmount")(function(){z.current==null||z.current()});return r.jsx("video",babelHelpers["extends"]({},v,{ref:p,autoPlay:a.src!=null?e:void 0,className:g!=null?g:"x1lliihq xh8yej3 x5yr21d"},w,C,{children:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrchestratorJobEventSampling",[],(function(a,b,c,d,e,f){a={sendMessage:10,createLidPnMappings:10,updateLidMetadata:10,getAllUserDisclosures:10,handleBusinessNotification:5,syncMyDeviceList:5,receiptBatcherRunActiveBatches:5,updateDraftMessageChat:5};b={JOB_EVENT_SAMPLING_RATE:a};f["default"]=b}),66);
__d("WAWebPipUrlVideoTag.react",["WAWebBaseVideo.react","WAWebDebounce","WAWebUserPrefsGeneral","react","useMergeRefs","useWAWebOnUnmount","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n=b.useState,o=c("WAWebDebounce")(function(a,b){d("WAWebUserPrefsGeneral").setMediaVolumeSettings(a,b)},500);function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),f=e.onVolumeChange,g=e.onPlaying,i=e.startTime,j=e.onLoadedMetadata,p=e.onProgress,q=e.onTimeUpdate,r=e.onError,s=m(null);a=c("useMergeRefs")(b,s);b=n(!1);var t=b[0],u=b[1];c("useWAWebOnUnmount")(function(){o.flush()});var v=(b=c("useWAWebStableCallback"))(function(a){var b,c=s.current;(b=e.callbacks)==null||b.onVolumeChange==null||b.onVolumeChange(a);if(c){b=c.getVolume();a=c.getMuted();o(b,a);f({volume:b,muted:a})}}),w=b(function(a){if(!t&&a){var b;(b=e.callbacks)==null||b.onPlaying==null||b.onPlaying(a);u(!0)}g()}),x=b(function(){s.current&&typeof i==="number"&&s.current.setCurrentTime(i)});b=b(function(a){if(i!=null){var b;x();(b=e.callbacks)==null||b.onLoadedMetadata(a)}b={duration:a.currentTarget.duration,volume:a.currentTarget.volume,muted:a.currentTarget.muted,videoWidth:a.currentTarget.videoWidth,videoHeight:a.currentTarget.videoHeight};j(b,a)});var y=function(a){if(!s.current)return;a=s.current.getBuffered();var b=[];if(a)for(var c=0;c<a.length;c++)b.push([a.start(c),a.end(c)]);p(b)},z=function(a){a=a.currentTarget.currentTime;q(a)},A=function(a){var b;b=(b=(b=s.current)==null||(b=b.underlyingVideo())==null?void 0:b.error)!=null?b:null;if(b==null&&a.code!=null){var c;r(a.code);(c=e.callbacks)==null||c.onError(a);return}r(b==null?void 0:b.code,b==null?void 0:b.message)};l(function(){x()},[i,x]);l(function(){var a=s.current;if(a){var b=d("WAWebUserPrefsGeneral").getMediaVolumeSettings(),c=b.volume;b=b.muted;c!=null&&a.setVolume(c);a.setMuted(b)}},[]);return k.jsx(c("WAWebBaseVideo.react"),{ref:a,src:e.url,poster:e.poster,className:e.className,onVolumeChange:v,onEnded:e.onEnded,onError:A,onPause:e.onPause,onPlaying:w,onProgress:y,onTimeUpdate:z,onLoadedMetadata:b,autoPlay:e.autoPlay,onCanPlay:e.onCanPlay,onWaiting:e.onWaiting,onLoadedData:e.onLoadedData,videoCallbacks:e.callbacks,children:e.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);